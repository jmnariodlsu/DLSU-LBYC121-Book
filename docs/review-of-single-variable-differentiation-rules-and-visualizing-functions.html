<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 Review of Single-Variable Differentiation Rules and Visualizing Functions | LBYC121 Course Book</title>
  <meta name="description" content="An introduction to the LBYC121 Course Book." />
  <meta name="generator" content="bookdown 0.46 and GitBook 2.6.7" />

  <meta property="og:title" content="6 Review of Single-Variable Differentiation Rules and Visualizing Functions | LBYC121 Course Book" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="An introduction to the LBYC121 Course Book." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 Review of Single-Variable Differentiation Rules and Visualizing Functions | LBYC121 Course Book" />
  
  <meta name="twitter:description" content="An introduction to the LBYC121 Course Book." />
  

<meta name="author" content="Jem Marie M. Nario" />


<meta name="date" content="2026-01-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="differentiation-rules.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<h1>LBYC121 Course Book</h1>
<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#about-me"><i class="fa fa-check"></i><b>1.1</b> About Me</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="syllabus.html"><a href="syllabus.html"><i class="fa fa-check"></i><b>2</b> Syllabus</a>
<ul>
<li class="chapter" data-level="2.1" data-path="syllabus.html"><a href="syllabus.html#course-description"><i class="fa fa-check"></i><b>2.1</b> Course Description</a></li>
<li class="chapter" data-level="2.2" data-path="syllabus.html"><a href="syllabus.html#final-course-outputs"><i class="fa fa-check"></i><b>2.2</b> Final Course Outputs</a></li>
<li class="chapter" data-level="2.3" data-path="syllabus.html"><a href="syllabus.html#generative-ai-use-policy"><i class="fa fa-check"></i><b>2.3</b> Generative AI-Use Policy</a></li>
<li class="chapter" data-level="2.4" data-path="syllabus.html"><a href="syllabus.html#classroom-policies"><i class="fa fa-check"></i><b>2.4</b> Classroom Policies</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="syllabus.html"><a href="syllabus.html#excused-absences-policy"><i class="fa fa-check"></i><b>2.4.1</b> <strong>EXCUSED ABSENCES POLICY:</strong></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="assessments.html"><a href="assessments.html"><i class="fa fa-check"></i><b>3</b> Assessments</a>
<ul>
<li class="chapter" data-level="3.1" data-path="assessments.html"><a href="assessments.html#in-weekly-exercises"><i class="fa fa-check"></i><b>3.1</b> In-Weekly Exercises</a></li>
<li class="chapter" data-level="3.2" data-path="assessments.html"><a href="assessments.html#problem-sets-1-and-2"><i class="fa fa-check"></i><b>3.2</b> Problem Sets 1 and 2</a></li>
<li class="chapter" data-level="3.3" data-path="assessments.html"><a href="assessments.html#grading-system"><i class="fa fa-check"></i><b>3.3</b> Grading System</a></li>
<li class="chapter" data-level="3.4" data-path="assessments.html"><a href="assessments.html#grading-scale"><i class="fa fa-check"></i><b>3.4</b> Grading Scale</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html"><i class="fa fa-check"></i><b>4</b> Basic Introduction to R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#session-information"><i class="fa fa-check"></i><b>4.1</b> Session Information</a></li>
<li class="chapter" data-level="4.2" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#preliminaries"><i class="fa fa-check"></i><b>4.2</b> Preliminaries</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#understanding-the-rstudio-screen"><i class="fa fa-check"></i><b>4.2.1</b> Understanding the RStudio Screen</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#packages"><i class="fa fa-check"></i><b>4.3</b> Packages</a></li>
<li class="chapter" data-level="4.4" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#setting-up-the-working-directory"><i class="fa fa-check"></i><b>4.4</b> Setting up the Working Directory</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#what-is-a-working-directory"><i class="fa fa-check"></i><b>4.4.1</b> What is a Working Directory?</a></li>
<li class="chapter" data-level="4.4.2" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#required-folder-structure"><i class="fa fa-check"></i><b>4.4.2</b> Required Folder Structure</a></li>
<li class="chapter" data-level="4.4.3" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#setting-the-working-directory-in-rstudio"><i class="fa fa-check"></i><b>4.4.3</b> Setting the Working Directory in RStudio</a></li>
<li class="chapter" data-level="4.4.4" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#setting-the-working-directory-using-code"><i class="fa fa-check"></i><b>4.4.4</b> Setting the Working Directory Using Code</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#cleaning-the-environment-do-this-regularly"><i class="fa fa-check"></i><b>4.5</b> Cleaning the Environment (Do This Regularly)</a></li>
<li class="chapter" data-level="4.6" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#quarto-markdown"><i class="fa fa-check"></i><b>4.6</b> Quarto Markdown</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#installing-quarto-in-r"><i class="fa fa-check"></i><b>4.6.1</b> Installing Quarto in R</a></li>
<li class="chapter" data-level="4.6.2" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#starting-a-quarto-document"><i class="fa fa-check"></i><b>4.6.2</b> Starting a Quarto Document</a></li>
<li class="chapter" data-level="4.6.3" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#yaml-header-use"><i class="fa fa-check"></i><b>4.6.3</b> YAML Header Use</a></li>
<li class="chapter" data-level="4.6.4" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#quarto-key-features"><i class="fa fa-check"></i><b>4.6.4</b> Quarto Key Features</a></li>
<li class="chapter" data-level="4.6.5" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#quarto-markdown-shortcuts"><i class="fa fa-check"></i><b>4.6.5</b> Quarto Markdown Shortcuts</a></li>
<li class="chapter" data-level="4.6.6" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#rendering-a-quarto-document"><i class="fa fa-check"></i><b>4.6.6</b> Rendering a Quarto Document</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#working-directories-and-file-management"><i class="fa fa-check"></i><b>4.7</b> Working Directories and File Management</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#file-naming-convention-mandatory"><i class="fa fa-check"></i><b>4.7.1</b> File Naming Convention (Mandatory)</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="basic-introduction-to-r.html"><a href="basic-introduction-to-r.html#mini-exercise-first-quarto-render-mandatory-per-individual"><i class="fa fa-check"></i><b>4.8</b> Mini-Exercise: First Quarto Render (Mandatory per Individual)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="differentiation-rules.html"><a href="differentiation-rules.html"><i class="fa fa-check"></i><b>5</b> Differentiation Rules</a>
<ul>
<li class="chapter" data-level="5.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#introduction-1"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
<li class="chapter" data-level="5.2" data-path="differentiation-rules.html"><a href="differentiation-rules.html#structure-of-differentiation"><i class="fa fa-check"></i><b>5.2</b> Structure of Differentiation</a></li>
<li class="chapter" data-level="5.3" data-path="differentiation-rules.html"><a href="differentiation-rules.html#constant-rule"><i class="fa fa-check"></i><b>5.3</b> Constant Rule</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example"><i class="fa fa-check"></i><b>5.3.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="differentiation-rules.html"><a href="differentiation-rules.html#power-rule"><i class="fa fa-check"></i><b>5.4</b> Power Rule</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-1"><i class="fa fa-check"></i><b>5.4.1</b> Example</a></li>
<li class="chapter" data-level="5.4.2" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-2"><i class="fa fa-check"></i><b>5.4.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="differentiation-rules.html"><a href="differentiation-rules.html#constant-multiple-rule"><i class="fa fa-check"></i><b>5.5</b> Constant Multiple Rule</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-3"><i class="fa fa-check"></i><b>5.5.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="differentiation-rules.html"><a href="differentiation-rules.html#sum-and-difference-rule"><i class="fa fa-check"></i><b>5.6</b> Sum and Difference Rule</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-4"><i class="fa fa-check"></i><b>5.6.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="differentiation-rules.html"><a href="differentiation-rules.html#polynomial-functions-combined-rules"><i class="fa fa-check"></i><b>5.7</b> Polynomial Functions (Combined Rules)</a>
<ul>
<li class="chapter" data-level="5.7.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-5"><i class="fa fa-check"></i><b>5.7.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.8" data-path="differentiation-rules.html"><a href="differentiation-rules.html#exponential-functions"><i class="fa fa-check"></i><b>5.8</b> Exponential Functions</a>
<ul>
<li class="chapter" data-level="5.8.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-6"><i class="fa fa-check"></i><b>5.8.1</b> Example</a></li>
<li class="chapter" data-level="5.8.2" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-7"><i class="fa fa-check"></i><b>5.8.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.9" data-path="differentiation-rules.html"><a href="differentiation-rules.html#logarithmic-functions"><i class="fa fa-check"></i><b>5.9</b> Logarithmic Functions</a>
<ul>
<li class="chapter" data-level="5.9.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-8"><i class="fa fa-check"></i><b>5.9.1</b> Example</a></li>
<li class="chapter" data-level="5.9.2" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-9"><i class="fa fa-check"></i><b>5.9.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.10" data-path="differentiation-rules.html"><a href="differentiation-rules.html#product-rule"><i class="fa fa-check"></i><b>5.10</b> Product Rule</a>
<ul>
<li class="chapter" data-level="5.10.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-10"><i class="fa fa-check"></i><b>5.10.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.11" data-path="differentiation-rules.html"><a href="differentiation-rules.html#quotient-rule"><i class="fa fa-check"></i><b>5.11</b> Quotient Rule</a>
<ul>
<li class="chapter" data-level="5.11.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-11"><i class="fa fa-check"></i><b>5.11.1</b> Example</a></li>
<li class="chapter" data-level="5.11.2" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-12"><i class="fa fa-check"></i><b>5.11.2</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.12" data-path="differentiation-rules.html"><a href="differentiation-rules.html#chain-rule"><i class="fa fa-check"></i><b>5.12</b> Chain Rule</a>
<ul>
<li class="chapter" data-level="5.12.1" data-path="differentiation-rules.html"><a href="differentiation-rules.html#example-13"><i class="fa fa-check"></i><b>5.12.1</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="5.13" data-path="differentiation-rules.html"><a href="differentiation-rules.html#things-to-note"><i class="fa fa-check"></i><b>5.13</b> Things to Note:</a></li>
<li class="chapter" data-level="5.14" data-path="differentiation-rules.html"><a href="differentiation-rules.html#exercises"><i class="fa fa-check"></i><b>5.14</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><i class="fa fa-check"></i><b>6</b> Review of Single-Variable Differentiation Rules and Visualizing Functions</a>
<ul>
<li class="chapter" data-level="6.1" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#economic-example"><i class="fa fa-check"></i><b>6.1</b> Economic Example</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#total-cost-function-definition"><i class="fa fa-check"></i><b>6.1.1</b> Total Cost Function Definition</a></li>
<li class="chapter" data-level="6.1.2" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#average-cost-function-definition"><i class="fa fa-check"></i><b>6.1.2</b> Average Cost Function Definition</a></li>
<li class="chapter" data-level="6.1.3" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#marginal-cost-using-deriv"><i class="fa fa-check"></i><b>6.1.3</b> Marginal Cost using <code>Deriv</code></a></li>
<li class="chapter" data-level="6.1.4" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#evaluating-at-a-specific-quantity"><i class="fa fa-check"></i><b>6.1.4</b> Evaluating at a specific quantity</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#writing-greek-letters"><i class="fa fa-check"></i><b>6.2</b> Writing Greek Letters</a></li>
<li class="chapter" data-level="6.3" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#square-roots-and-powers"><i class="fa fa-check"></i><b>6.3</b> Square Roots and Powers</a></li>
<li class="chapter" data-level="6.4" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#visualizing-functions-with-ggplot2"><i class="fa fa-check"></i><b>6.4</b> Visualizing Functions with ggplot2</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#pre-plotting-check"><i class="fa fa-check"></i><b>6.4.1</b> Pre-plotting Check</a></li>
<li class="chapter" data-level="6.4.2" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#plotting-a-single-function"><i class="fa fa-check"></i><b>6.4.2</b> 1. Plotting a Single Function</a></li>
<li class="chapter" data-level="6.4.3" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#multiple-functions-in-one-plot-mc-and-ac"><i class="fa fa-check"></i><b>6.4.3</b> 2. Multiple Functions in One Plot (MC and AC)</a></li>
<li class="chapter" data-level="6.4.4" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#multiple-functions-in-one-plot-mr-mc-ac"><i class="fa fa-check"></i><b>6.4.4</b> 3. Multiple Functions in One Plot (MR, MC, AC)</a></li>
<li class="chapter" data-level="6.4.5" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#base-r-plotting-2"><i class="fa fa-check"></i><b>6.4.5</b> Base R Plotting</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="review-of-single-variable-differentiation-rules-and-visualizing-functions.html"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#mini-exercise"><i class="fa fa-check"></i><b>6.5</b> Mini-Exercise</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">LBYC121 Course Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="review-of-single-variable-differentiation-rules-and-visualizing-functions" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">6</span> Review of Single-Variable Differentiation Rules and Visualizing Functions<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#review-of-single-variable-differentiation-rules-and-visualizing-functions" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="economic-example" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Economic Example<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#economic-example" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We already discussed how to get Marginal Cost, etc. from the last chapter; here, we review how to get Marginal Cost, Average Cost.</p>
<div id="total-cost-function-definition" class="section level3 hasAnchor" number="6.1.1">
<h3><span class="header-section-number">6.1.1</span> Total Cost Function Definition<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#total-cost-function-definition" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Say you are given a Total Cost function:</p>
<p><span class="math inline">\(TC(Q) = Q^3 - 12Q^2 + 60Q\)</span></p>
<p>We can create a function of the Total Cost. This will help when we want to evaluate the model at a certain quantity.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb52-1" tabindex="-1"></a>TC<span class="ot">&lt;-</span> <span class="cf">function</span>(Q) Q<span class="sc">^</span><span class="dv">3</span> <span class="sc">-</span> <span class="dv">12</span><span class="sc">*</span>Q<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> <span class="dv">60</span><span class="sc">*</span>Q</span></code></pre></div>
<p>What you are doing here is that you are creating a new object, <code>TC</code>. Then, <code>function(Q)</code> is defining the mathematical function (you are defining the Total Cost function). <code>Q</code> is the quantity.</p>
</div>
<div id="average-cost-function-definition" class="section level3 hasAnchor" number="6.1.2">
<h3><span class="header-section-number">6.1.2</span> Average Cost Function Definition<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#average-cost-function-definition" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Then, you are now going to define the Average Cost function given as:</p>
<p><span class="math inline">\(AC(Q) = \frac{TC(Q)}{Q}\)</span></p>
<p>We create the Average Cost function in R which will help us evaluate later on:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb53-1" tabindex="-1"></a>AC<span class="ot">&lt;-</span><span class="cf">function</span>(Q) <span class="fu">TC</span>(Q)<span class="sc">/</span>Q</span></code></pre></div>
<p>Once again, we are creating a new object, <code>AC</code>, then defining the average cost function <code>function(Q)</code>.</p>
</div>
<div id="marginal-cost-using-deriv" class="section level3 hasAnchor" number="6.1.3">
<h3><span class="header-section-number">6.1.3</span> Marginal Cost using <code>Deriv</code><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#marginal-cost-using-deriv" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Unlike before where we used <code>D(expression, name)</code> , we will use the <code>Deriv</code> package. Therefore, install and load the <code>Deriv</code> package.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb54-1" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span>(<span class="st">&quot;Deriv&quot;</span> <span class="sc">%in%</span> <span class="fu">installed.packages</span>()[,<span class="st">&quot;Package&quot;</span>]))</span>
<span id="cb54-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb54-2" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;Deriv&quot;</span>)</span></code></pre></div>
<p>We know that the Marginal Cost function is:</p>
<p><span class="math inline">\(MC(Q) = \frac{dTC}{dQ}\)</span></p>
<p>So, we use the Deriv package to get the <strong>first derivative</strong> of <code>TC</code> with respect to <code>Q</code>.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb55-1" tabindex="-1"></a><span class="fu">library</span>(Deriv)</span>
<span id="cb55-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb55-2" tabindex="-1"></a>MC<span class="ot">&lt;-</span><span class="fu">Deriv</span>(TC, <span class="st">&quot;Q&quot;</span>)</span></code></pre></div>
</div>
<div id="evaluating-at-a-specific-quantity" class="section level3 hasAnchor" number="6.1.4">
<h3><span class="header-section-number">6.1.4</span> Evaluating at a specific quantity<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#evaluating-at-a-specific-quantity" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We defined our functions, TC, AC, and MC. If you are given a specific quantity, what is the TC, AC, and MC? We can simply do this in R:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb56-1" tabindex="-1"></a><span class="fu">TC</span>(<span class="dv">20</span>)</span></code></pre></div>
<pre><code>## [1] 4400</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb58-1" tabindex="-1"></a><span class="fu">AC</span>(<span class="dv">20</span>)</span></code></pre></div>
<pre><code>## [1] 220</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb60-1" tabindex="-1"></a><span class="fu">MC</span>(<span class="dv">20</span>)</span></code></pre></div>
<pre><code>## [1] 780</code></pre>
<p>You can double-check in the console by computing manually if the answers are correct. So, what we did is simply evaluate the functions at <code>(Q=20)</code></p>
</div>
</div>
<div id="writing-greek-letters" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Writing Greek Letters<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#writing-greek-letters" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In code, it is better to write the name of the Greek letter, however, when writing it in the final answer, that is the time you put it as the Greek Letter.</p>
<p>So, let‚Äôs say you are differentiating <span class="math display">\[f(\gamma)=5\gamma^2\]</span>, this is how it should be done:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb62-1" tabindex="-1"></a><span class="fu">D</span>(<span class="fu">expression</span>(<span class="dv">5</span><span class="sc">*</span>gamma<span class="sc">^</span><span class="dv">2</span>), <span class="st">&quot;gamma&quot;</span>)</span></code></pre></div>
<pre><code>## 5 * (2 * gamma)</code></pre>
<p>Some usual Greek Letters:</p>
<table>
<colgroup>
<col width="18%" />
<col width="51%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th>Greek Letter</th>
<th>R code in inline Math (Final Answer)</th>
<th>R code in code chunk</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>‚ç∫</td>
<td>$\alpha$</td>
<td>alpha</td>
</tr>
<tr class="even">
<td>ùõΩ</td>
<td>$\beta$</td>
<td>beta</td>
</tr>
<tr class="odd">
<td>ùõæ</td>
<td>$\gamma$</td>
<td>gamma</td>
</tr>
<tr class="even">
<td>ùõ≥</td>
<td>$\theta$</td>
<td>theta</td>
</tr>
</tbody>
</table>
<p>Example expression:</p>
<p><span class="math inline">\(f(\gamma)=ln(\theta)+e^2+e^{ln(\gamma)}\)</span></p>
<p>For reference:</p>
<p>f(\gamma)=ln(\theta)+e<sup>2+e</sup>{ln(\gamma)}</p>
<p>In a code chunk, when you are defining:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb64-1" tabindex="-1"></a>f<span class="ot">&lt;-</span><span class="cf">function</span>(gamma, theta) <span class="fu">log</span>(theta) <span class="sc">+</span> <span class="fu">exp</span>(<span class="dv">2</span>) <span class="sc">+</span> <span class="fu">exp</span>(<span class="fu">log</span>(gamma))</span></code></pre></div>
<p><code>log()</code> = natural logarithm</p>
<p><code>exp()</code> = exponential function</p>
</div>
<div id="square-roots-and-powers" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Square Roots and Powers<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#square-roots-and-powers" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Say you have repeated square root:</p>
<p><span class="math inline">\(\sqrt{\sqrt{\sqrt{\theta+1}}}\)</span></p>
<p>To write this in inline Math, it is this:</p>
<p>\sqrt{\sqrt{\sqrt{\theta+1}}}</p>
<p>Now, let us create a function. Given that the nested square roots would be complicated, we can simplify to have decimals as exponents:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb65-1" tabindex="-1"></a><span class="fu">Reduce</span>(<span class="st">`</span><span class="at">*</span><span class="st">`</span>, <span class="fu">rep</span>(<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [1] 0.125</code></pre>
<p>We use <code>Reduce</code> to help us find out the equivalent exponent of nested square roots. Square root is simply <span class="math inline">\(expression^{1/2}\)</span>, then we simply say how many square roots are present. It‚Äôs 3 in this case. We can now write the function:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb67-1" tabindex="-1"></a>t<span class="ot">&lt;-</span><span class="cf">function</span>(theta) (theta<span class="sc">+</span><span class="dv">1</span>)<span class="sc">^</span><span class="fl">0.125</span></span></code></pre></div>
<div id="first-derivative" class="section level4 hasAnchor" number="6.3.0.1">
<h4><span class="header-section-number">6.3.0.1</span> First Derivative<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#first-derivative" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb68-1" tabindex="-1"></a><span class="fu">library</span>(Deriv)</span>
<span id="cb68-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb68-2" tabindex="-1"></a>Dt<span class="ot">&lt;-</span> <span class="fu">Deriv</span>(t, <span class="st">&quot;theta&quot;</span>)</span>
<span id="cb68-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb68-3" tabindex="-1"></a>Dt</span></code></pre></div>
<pre><code>## function (theta) 
## 0.125/(1 + theta)^0.875</code></pre>
<p>Now, if you want to change decimals to fractions, use the <code>MASS</code> package.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb70-1" tabindex="-1"></a>MASS<span class="sc">::</span><span class="fu">fractions</span>(<span class="fl">0.875</span>) <span class="co">#:: because we are specifying that we are using fractions code in the MASS package. There are fractions that are from other packages so we need to specify</span></span></code></pre></div>
<pre><code>## [1] 7/8</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb72-1" tabindex="-1"></a>MASS<span class="sc">::</span><span class="fu">fractions</span>(<span class="fl">0.125</span>) </span></code></pre></div>
<pre><code>## [1] 1/8</code></pre>
<p>Therefore, when writing the final answer:</p>
<p><span class="math inline">\(f&#39;(\theta)=\frac{1/8}{(1+\theta)^{7/8}}\)</span></p>
<p>f‚Äô(\theta)=\frac{1/8}{(1+\theta)^{7/8}}</p>
</div>
<div id="higher-order-nth-derivatives" class="section level4 hasAnchor" number="6.3.0.2">
<h4><span class="header-section-number">6.3.0.2</span> Higher-Order (nth) Derivatives<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#higher-order-nth-derivatives" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>So, our example would be:</p>
<p><span class="math inline">\(f(x) = x^5 + x^4 + x^3 +x^2 + x +1\)</span></p>
<p>We define the function:</p>
<blockquote>
<p>If you have R GUI that is 4.1.0 and later, we can change the word function to backslash as a shorter way. It works the same. ONLY do this if you have 4.1.0 and later.</p>
</blockquote>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb74-1" tabindex="-1"></a>fx<span class="ot">&lt;-</span>\(x) x<span class="sc">^</span><span class="dv">5</span> <span class="sc">+</span> x<span class="sc">^</span><span class="dv">4</span> <span class="sc">+</span> x<span class="sc">^</span><span class="dv">3</span> <span class="sc">+</span>x<span class="sc">^</span><span class="dv">2</span> <span class="sc">+</span> x <span class="sc">+</span><span class="dv">1</span></span></code></pre></div>
<p>We use the <code>Deriv</code> package:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb75-1" tabindex="-1"></a><span class="fu">library</span>(Deriv)</span>
<span id="cb75-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb75-2" tabindex="-1"></a>D4fx<span class="ot">&lt;-</span><span class="fu">Deriv</span>(fx, <span class="st">&quot;x&quot;</span>, <span class="at">nderiv =</span> <span class="dv">4</span>)</span>
<span id="cb75-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb75-3" tabindex="-1"></a>D4fx</span></code></pre></div>
<pre><code>## function (x) 
## 120 * x + 24</code></pre>
<p>The <code>nderiv</code> is added and this is where you put whether you are getting the 4th derivative, 3rd, and so on.</p>
<blockquote>
<p>Some answers have things like <code>.e1&lt;-</code> this is like a placeholder, you can substitute <code>.e1</code> with what comes after the arrow in your equations.</p>
</blockquote>
</div>
</div>
<div id="visualizing-functions-with-ggplot2" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Visualizing Functions with ggplot2<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#visualizing-functions-with-ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="pre-plotting-check" class="section level3 hasAnchor" number="6.4.1">
<h3><span class="header-section-number">6.4.1</span> Pre-plotting Check<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#pre-plotting-check" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In some cases, <code>ggplot2</code> does not run. This can be brought by package mismatch, so, we need to double-check that everything is working properly.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-1" tabindex="-1"></a>user <span class="ot">&lt;-</span> <span class="fu">file.path</span>(<span class="fu">Sys.getenv</span>(<span class="st">&quot;USERPROFILE&quot;</span>), <span class="st">&quot;R&quot;</span>, <span class="st">&quot;win-library&quot;</span>, <span class="st">&quot;4.5&quot;</span>)</span>
<span id="cb77-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-2" tabindex="-1"></a><span class="fu">dir.create</span>(user, <span class="at">recursive =</span> <span class="cn">TRUE</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb77-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-3" tabindex="-1"></a><span class="fu">.libPaths</span>(<span class="fu">c</span>(user, <span class="fu">.libPaths</span>()))</span>
<span id="cb77-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-4" tabindex="-1"></a></span>
<span id="cb77-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-5" tabindex="-1"></a>ok <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb77-6"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-6" tabindex="-1"></a>  <span class="fu">library</span>(ggplot2)</span>
<span id="cb77-7"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">y=</span><span class="fu">rnorm</span>(<span class="dv">5</span>)), <span class="fu">aes</span>(x,y)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span>
<span id="cb77-8"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-8" tabindex="-1"></a>  <span class="cn">TRUE</span></span>
<span id="cb77-9"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-9" tabindex="-1"></a>}, <span class="at">error =</span> <span class="cf">function</span>(e) <span class="cn">FALSE</span>)</span>
<span id="cb77-10"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-10" tabindex="-1"></a></span>
<span id="cb77-11"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-11" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span>ok) {</span>
<span id="cb77-12"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-12" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;rlang&quot;</span>, <span class="at">lib =</span> user_lib)</span>
<span id="cb77-13"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-13" tabindex="-1"></a>  ok <span class="ot">&lt;-</span> <span class="fu">tryCatch</span>({</span>
<span id="cb77-14"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-14" tabindex="-1"></a>    <span class="fu">library</span>(ggplot2)</span>
<span id="cb77-15"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-15" tabindex="-1"></a>      <span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">y=</span><span class="fu">rnorm</span>(<span class="dv">5</span>)), <span class="fu">aes</span>(x,y)) <span class="sc">+</span> <span class="fu">geom_point</span>()</span>
<span id="cb77-16"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-16" tabindex="-1"></a>    <span class="cn">TRUE</span></span>
<span id="cb77-17"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-17" tabindex="-1"></a>  }, <span class="at">error =</span> <span class="cf">function</span>(e) <span class="cn">FALSE</span>)</span>
<span id="cb77-18"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-18" tabindex="-1"></a>}</span>
<span id="cb77-19"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-19" tabindex="-1"></a></span>
<span id="cb77-20"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb77-20" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span>ok) <span class="fu">plot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">rnorm</span>(<span class="dv">5</span>))</span></code></pre></div>
<p>If it is not working, we will use Base R, so go to Base R.</p>
</div>
<div id="plotting-a-single-function" class="section level3 hasAnchor" number="6.4.2">
<h3><span class="header-section-number">6.4.2</span> 1. Plotting a Single Function<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#plotting-a-single-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We load the <code>ggplot2</code> package to make plots.</p>
<div id="a.-load-ggplot2-package" class="section level5 hasAnchor" number="6.4.2.0.1">
<h5><span class="header-section-number">6.4.2.0.1</span> a. Load <code>ggplot2</code> package<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#a.-load-ggplot2-package" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb78-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
</div>
<div id="b.-create-values-for-q" class="section level5 hasAnchor" number="6.4.2.0.2">
<h5><span class="header-section-number">6.4.2.0.2</span> b. Create values for Q<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#b.-create-values-for-q" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb79-1" tabindex="-1"></a>Q_vals<span class="ot">&lt;-</span><span class="fu">seq</span>(<span class="dv">0</span>,<span class="dv">50</span>, <span class="at">length.out =</span> <span class="dv">100</span>)</span></code></pre></div>
<p>We create a sequence of numbers using <code>seq()</code>, <code>0, 50</code> the start and end of the sequence while <code>length.out=100</code> creates 100 numbers evenly spaced between 0 and 50. If you have more points with the <code>length.out</code> the curve will be smoother when we do the plotting.</p>
</div>
<div id="c.-create-data-frame-for-plotting" class="section level5 hasAnchor" number="6.4.2.0.3">
<h5><span class="header-section-number">6.4.2.0.3</span> c.¬†Create data frame for plotting<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#c.-create-data-frame-for-plotting" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb80-1" tabindex="-1"></a>df_tc<span class="ot">&lt;-</span><span class="fu">data.frame</span>(<span class="at">Q =</span> Q_vals, <span class="at">TC =</span> <span class="fu">TC</span>(Q_vals))</span></code></pre></div>
<p><code>data.frame()</code> creates the table of data</p>
<p><code>Q=Q_vals</code> is the column that is created. We store all the quantities (from 0 to 50)</p>
<p><code>TC = TC(Q_vals)</code> is the column for <code>TC</code> storing the total cost for each <code>Q</code>.</p>
</div>
<div id="d.-plotting-the-curve" class="section level5 hasAnchor" number="6.4.2.0.4">
<h5><span class="header-section-number">6.4.2.0.4</span> d.¬†Plotting the curve<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#d.-plotting-the-curve" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>You might get worried because there are warnings that will appear, however, those are not really worrisome. If you do not want to be stressed, you can remove the warnings. You can do that by adding in the code chunk where you can see <code>{r}</code>, <code>{r, warning=FALSE}</code>.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb81-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb81-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb81-2" tabindex="-1"></a>p1<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df_tc,</span>
<span id="cb81-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb81-3" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Q,</span>
<span id="cb81-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb81-4" tabindex="-1"></a>           <span class="at">y =</span> TC)) <span class="sc">+</span></span>
<span id="cb81-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb81-5" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="fl">1.2</span>, <span class="at">color =</span> <span class="st">&quot;darkgreen&quot;</span>)<span class="sc">+</span></span>
<span id="cb81-6"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb81-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Plot of Total Cost Curve&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Q&quot;</span>, <span class="at">y=</span> <span class="st">&quot;Cost&quot;</span>)<span class="sc">+</span></span>
<span id="cb81-7"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb81-7" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb81-8"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb81-8" tabindex="-1"></a><span class="fu">print</span>(p1)</span></code></pre></div>
<p><img src="LBYC121_Course_Book_files/figure-html/unnamed-chunk-51-1.png" alt="" width="672" /></p>
<p>i. <code>ggplot(df_tc, aes(x = Q, y = TC))</code></p>
<ul>
<li><p>This starts the plot using the <code>df_tc</code> we created as the data.</p></li>
<li><p><code>aes(x = Q, y = TC)</code> tells R that you are putting <code>Q</code> on the x-axis and <code>TC</code> on the y-axis</p></li>
</ul>
<p>ii. <code>geom_line(size = 1.2, color = "darkgreen")</code></p>
<ul>
<li><p>This draws our line connecting all points (Q, TC)</p></li>
<li><p><code>size = 1.2</code> means thicker line than the default of 1.</p></li>
<li><p><code>color = "darkgreen"</code> is the line color. You can experiment. So, if the color you want will not appear, ggplot does not have it.</p></li>
</ul>
<p>iii. <code>labs(title = "Plot of TC", x = "Q", y = "Cost")</code></p>
<ul>
<li>This adds labels like the title and axis names</li>
</ul>
<p>iv. <code>theme_minimal()</code></p>
<ul>
<li>Makes the plot cleaner and simpler, with less clutter.</li>
</ul>
</div>
<div id="base-r-plotting" class="section level4 hasAnchor" number="6.4.2.1">
<h4><span class="header-section-number">6.4.2.1</span> Base R Plotting<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#base-r-plotting" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb82-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb82-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb82-2" tabindex="-1"></a></span>
<span id="cb82-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb82-3" tabindex="-1"></a>p1<span class="fl">.1</span><span class="ot">&lt;-</span><span class="fu">plot</span>(df_tc<span class="sc">$</span>Q, df_tc<span class="sc">$</span>TC, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">col =</span> <span class="st">&quot;darkgreen&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>,</span>
<span id="cb82-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb82-4" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Plot of Total Cost Curve&quot;</span>,</span>
<span id="cb82-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb82-5" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Q&quot;</span>,</span>
<span id="cb82-6"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb82-6" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Cost&quot;</span></span>
<span id="cb82-7"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb82-7" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="LBYC121_Course_Book_files/figure-html/unnamed-chunk-52-1.png" alt="" width="672" /></p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb83-1" tabindex="-1"></a><span class="fu">print</span>(p1<span class="fl">.1</span>)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>i. <code>options (scipen=999)</code> is added because unlike ggplot2, Base R tends to use scientific notation. It does not look that nice, so, to avoid that, add this.</p>
<p>ii. <code>plot(df_tc$Q, df_tc$TC)</code> portion is the <code>aes</code> portion in <code>ggplot2</code>.</p>
<ul>
<li><p><code>type = "l", col = "darkgreen", lwd = 2</code> so this makes the plot a line graph, color is dark green and the line width is thicker,</p></li>
<li><p>The other parts are the labels.</p></li>
</ul>
</div>
</div>
<div id="multiple-functions-in-one-plot-mc-and-ac" class="section level3 hasAnchor" number="6.4.3">
<h3><span class="header-section-number">6.4.3</span> 2. Multiple Functions in One Plot (MC and AC)<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#multiple-functions-in-one-plot-mc-and-ac" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We already have our <code>MC</code> and <code>AC</code> functions. We also have <code>Q_vals</code> too.</p>
<div id="a.-define-the-functions" class="section level5 hasAnchor" number="6.4.3.0.1">
<h5><span class="header-section-number">6.4.3.0.1</span> a. Define the functions<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#a.-define-the-functions" class="anchor-section" aria-label="Anchor link to header"></a></h5>
</div>
<div id="b.-prepare-the-data-in-long-format-for-ggplot" class="section level5 hasAnchor" number="6.4.3.0.2">
<h5><span class="header-section-number">6.4.3.0.2</span> b. Prepare the data in long format for ggplot<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#b.-prepare-the-data-in-long-format-for-ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p><code>ggplot2</code> prefers long format which looks like this:</p>
<table>
<thead>
<tr class="header">
<th>Q</th>
<th>Value</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>0</td>
<td>10</td>
<td>MC</td>
</tr>
<tr class="even">
<td>0.1</td>
<td>12</td>
<td>MC</td>
</tr>
<tr class="odd">
<td>‚Ä¶</td>
<td>‚Ä¶</td>
<td>MC</td>
</tr>
<tr class="even">
<td>0</td>
<td>15</td>
<td>AC</td>
</tr>
<tr class="odd">
<td>0.1</td>
<td>14</td>
<td>AC</td>
</tr>
<tr class="even">
<td>‚Ä¶</td>
<td>‚Ä¶</td>
<td>AC</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb85-1" tabindex="-1"></a>dfc<span class="ot">&lt;-</span><span class="fu">data.frame</span>(</span>
<span id="cb85-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb85-2" tabindex="-1"></a>  <span class="at">Q =</span> <span class="fu">rep</span>(Q_vals, <span class="dv">2</span>),</span>
<span id="cb85-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb85-3" tabindex="-1"></a>  <span class="at">Value =</span> <span class="fu">c</span>(<span class="fu">MC</span>(Q_vals), <span class="fu">AC</span>(Q_vals)),</span>
<span id="cb85-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb85-4" tabindex="-1"></a>  <span class="at">Type =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;MC&quot;</span>, <span class="st">&quot;AC&quot;</span>), <span class="at">each =</span> <span class="fu">length</span>(Q_vals))</span>
<span id="cb85-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb85-5" tabindex="-1"></a>)</span></code></pre></div>
<ul>
<li><p><code>rep(Q_vals, 2)</code> repeat Q for both curves</p></li>
<li><p><code>Value</code> is so that MC and AC values are stacked</p></li>
<li><p><code>Type</code> tells <code>ggplot</code> which line is which</p></li>
</ul>
</div>
<div id="c.-plotting-ac-and-mc" class="section level5 hasAnchor" number="6.4.3.0.3">
<h5><span class="header-section-number">6.4.3.0.3</span> c.¬†Plotting AC and MC<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#c.-plotting-ac-and-mc" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb86-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-2" tabindex="-1"></a></span>
<span id="cb86-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-3" tabindex="-1"></a>p2<span class="ot">&lt;-</span><span class="fu">ggplot</span>(dfc, <span class="fu">aes</span>(<span class="at">x =</span> Q, <span class="at">y =</span> Value, <span class="at">color =</span> Type, <span class="at">linetype =</span> Type, <span class="at">size =</span> Type)) <span class="sc">+</span></span>
<span id="cb86-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-4" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb86-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-5" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;MC&quot;</span> <span class="ot">=</span> <span class="st">&quot;dashed&quot;</span>, <span class="st">&quot;AC&quot;</span> <span class="ot">=</span> <span class="st">&quot;solid&quot;</span>)) <span class="sc">+</span></span>
<span id="cb86-6"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-6" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;MC&quot;</span> <span class="ot">=</span> <span class="st">&quot;pink&quot;</span>, <span class="st">&quot;AC&quot;</span> <span class="ot">=</span> <span class="st">&quot;purple&quot;</span>)) <span class="sc">+</span></span>
<span id="cb86-7"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-7" tabindex="-1"></a>  <span class="fu">scale_size_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;MC&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;AC&quot;</span> <span class="ot">=</span> <span class="fl">1.5</span>)) <span class="sc">+</span></span>
<span id="cb86-8"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MC and AC Curves&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Q&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Cost&quot;</span>) <span class="sc">+</span></span>
<span id="cb86-9"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-9" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>)) <span class="sc">+</span></span>
<span id="cb86-10"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-10" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb86-11"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb86-11" tabindex="-1"></a><span class="fu">print</span>(p2)</span></code></pre></div>
<p><img src="LBYC121_Course_Book_files/figure-html/unnamed-chunk-54-1.png" alt="" width="672" /></p>
<p>i. <code>aes(color = Type, linetype = Type, size = Type</code></p>
<ul>
<li>automatically maps line style</li>
</ul>
<p>ii. <code>coord_cartesian(ylim = c(0,100))</code></p>
<ul>
<li>This zooms the y-axis without cutting the data.</li>
</ul>
<p>iii. Specifying the line style using <code>scale_linetype_manual</code> instead of letting R do the lines. So, AC is set as the solid line and MC is set as the dashed line. <code>scale_color_manual</code> specifying the color per line. <code>scale_size_manual</code> specifies the thickness of the lines.</p>
<ul>
<li>Inside the parenthesis for all, you have to add <code>c()</code> because you have a ‚Äúcollection‚Äù of curves.</li>
</ul>
<p>iv. <code>labs</code> for the labels and <code>theme_minimal()</code> for a clean look.</p>
</div>
<div id="base-r-plotting-1" class="section level4 hasAnchor" number="6.4.3.1">
<h4><span class="header-section-number">6.4.3.1</span> Base R Plotting<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#base-r-plotting-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb87-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-2" tabindex="-1"></a></span>
<span id="cb87-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-3" tabindex="-1"></a></span>
<span id="cb87-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-4" tabindex="-1"></a>y_min <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb87-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-5" tabindex="-1"></a>y_max <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb87-6"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-6" tabindex="-1"></a></span>
<span id="cb87-7"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-7" tabindex="-1"></a>p2<span class="fl">.1</span><span class="ot">&lt;-</span><span class="fu">plot</span>(dfc<span class="sc">$</span>Q, dfc<span class="sc">$</span>Value, <span class="at">type =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb87-8"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-8" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Q&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Cost&quot;</span>,</span>
<span id="cb87-9"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-9" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(y_min, y_max),</span>
<span id="cb87-10"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-10" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;MC and AC Curves&quot;</span>)</span>
<span id="cb87-11"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-11" tabindex="-1"></a><span class="fu">lines</span>(dfc<span class="sc">$</span>Q[dfc<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;AC&quot;</span>], dfc<span class="sc">$</span>Value[dfc<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;AC&quot;</span>], </span>
<span id="cb87-12"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-12" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">&quot;purple&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">1</span>)</span>
<span id="cb87-13"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-13" tabindex="-1"></a><span class="fu">lines</span>(dfc<span class="sc">$</span>Q[dfc<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;MC&quot;</span>], dfc<span class="sc">$</span>Value[dfc<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;MC&quot;</span>], </span>
<span id="cb87-14"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-14" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">&quot;pink&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb87-15"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-15" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>, <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;AC&quot;</span>, <span class="st">&quot;MC&quot;</span>),</span>
<span id="cb87-16"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb87-16" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;purple&quot;</span>, <span class="st">&quot;pink&quot;</span>), <span class="at">lwd =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">lty =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span></code></pre></div>
<p><img src="LBYC121_Course_Book_files/figure-html/unnamed-chunk-55-1.png" alt="" width="672" /></p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb88-1" tabindex="-1"></a><span class="fu">print</span>(p2<span class="fl">.1</span>)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>i. <code>plot(dfc$Q, dfc$Value, type = "n"</code> creates the plot, much like the <code>aes</code></p>
<p>ii. the labels are then added, alongside the <code>ylim</code> which is the equivalent of <code>coord_cartesian</code> in <code>ggplot2</code></p>
<p>iii. <code>lines(...)</code> draws each curve individually, the <code>lty</code> is the line type, (1 for solid, 2 for dashed), <code>lwd</code> is line thickness, <code>col</code> is color, the <code>legend</code> adds legend to match colors and line types manually.</p>
</div>
</div>
<div id="multiple-functions-in-one-plot-mr-mc-ac" class="section level3 hasAnchor" number="6.4.4">
<h3><span class="header-section-number">6.4.4</span> 3. Multiple Functions in One Plot (MR, MC, AC)<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#multiple-functions-in-one-plot-mr-mc-ac" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="a.-getting-tr-and-mr" class="section level5 hasAnchor" number="6.4.4.0.1">
<h5><span class="header-section-number">6.4.4.0.1</span> a. Getting TR and MR<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#a.-getting-tr-and-mr" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>Let us define the price as a function of Q:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb90-1" tabindex="-1"></a>P<span class="ot">&lt;-</span>\(Q) <span class="dv">100-2</span><span class="sc">*</span>Q</span>
<span id="cb90-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb90-2" tabindex="-1"></a></span>
<span id="cb90-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb90-3" tabindex="-1"></a>TR<span class="ot">&lt;-</span> \(Q) <span class="fu">P</span>(Q)<span class="sc">*</span>Q</span></code></pre></div>
<p>We get the Marginal Revenue that is the derivative of TR</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb91-1" tabindex="-1"></a><span class="fu">library</span>(Deriv)</span>
<span id="cb91-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb91-2" tabindex="-1"></a>MR<span class="ot">&lt;-</span> <span class="fu">Deriv</span>(TR, <span class="st">&quot;Q&quot;</span>)</span></code></pre></div>
</div>
<div id="b.-prepare-the-data" class="section level5 hasAnchor" number="6.4.4.0.2">
<h5><span class="header-section-number">6.4.4.0.2</span> b. Prepare the data<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#b.-prepare-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb92-1" tabindex="-1"></a>df3<span class="ot">&lt;-</span><span class="fu">data.frame</span>(</span>
<span id="cb92-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb92-2" tabindex="-1"></a>  <span class="at">Q=</span><span class="fu">rep</span>(Q_vals,<span class="dv">3</span>),</span>
<span id="cb92-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb92-3" tabindex="-1"></a>  <span class="at">Value=</span><span class="fu">c</span>(<span class="fu">MC</span>(Q_vals), <span class="fu">AC</span>(Q_vals), <span class="fu">MR</span>(Q_vals)),</span>
<span id="cb92-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb92-4" tabindex="-1"></a>  <span class="at">Type =</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;MC&quot;</span>, <span class="st">&quot;AC&quot;</span>, <span class="st">&quot;MR&quot;</span>), <span class="at">each =</span> <span class="fu">length</span>(Q_vals))</span>
<span id="cb92-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb92-5" tabindex="-1"></a>)</span></code></pre></div>
<p>The only difference is that we now have three curves: MC, AC, and MR.</p>
</div>
<div id="c.-plot-mc-ac-mr" class="section level5 hasAnchor" number="6.4.4.0.3">
<h5><span class="header-section-number">6.4.4.0.3</span> c.¬†Plot MC, AC, MR<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#c.-plot-mc-ac-mr" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-1" tabindex="-1"></a>p3<span class="ot">&lt;-</span><span class="fu">ggplot</span>(df3, </span>
<span id="cb93-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-2" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> Q, <span class="at">y =</span> Value, <span class="at">color =</span> Type, <span class="at">linetype =</span> Type, <span class="at">size =</span> Type)) <span class="sc">+</span></span>
<span id="cb93-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-3" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb93-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-4" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;MC&quot;</span> <span class="ot">=</span> <span class="st">&quot;pink&quot;</span>, <span class="st">&quot;AC&quot;</span> <span class="ot">=</span> <span class="st">&quot;purple&quot;</span>, <span class="at">MR =</span> <span class="st">&quot;skyblue&quot;</span>)) <span class="sc">+</span></span>
<span id="cb93-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-5" tabindex="-1"></a>  <span class="fu">scale_linetype_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;MC&quot;</span> <span class="ot">=</span> <span class="st">&quot;dashed&quot;</span>, <span class="st">&quot;AC&quot;</span> <span class="ot">=</span> <span class="st">&quot;solid&quot;</span>, <span class="st">&quot;MR&quot;</span> <span class="ot">=</span> <span class="st">&quot;dotdash&quot;</span>)) <span class="sc">+</span></span>
<span id="cb93-6"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-6" tabindex="-1"></a>  <span class="fu">scale_size_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;MC&quot;</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">&quot;AC&quot;</span> <span class="ot">=</span> <span class="fl">1.5</span>, <span class="st">&quot;MR&quot;</span> <span class="ot">=</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb93-7"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-7" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;MC, AC, and MR Curves&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Q&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Cost / Revenue&quot;</span>) <span class="sc">+</span></span>
<span id="cb93-8"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-8" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">120</span>)) <span class="sc">+</span></span>
<span id="cb93-9"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-9" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb93-10"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb93-10" tabindex="-1"></a><span class="fu">print</span>(p3)</span></code></pre></div>
<p><img src="LBYC121_Course_Book_files/figure-html/unnamed-chunk-59-1.png" alt="" width="672" /></p>
</div>
</div>
<div id="base-r-plotting-2" class="section level3 hasAnchor" number="6.4.5">
<h3><span class="header-section-number">6.4.5</span> Base R Plotting<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#base-r-plotting-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-1" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb94-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-2" tabindex="-1"></a></span>
<span id="cb94-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-3" tabindex="-1"></a>y_max1 <span class="ot">&lt;-</span> <span class="dv">120</span></span>
<span id="cb94-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-4" tabindex="-1"></a></span>
<span id="cb94-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-5" tabindex="-1"></a>p3<span class="fl">.1</span><span class="ot">&lt;-</span><span class="fu">plot</span>(df3<span class="sc">$</span>Q, df3<span class="sc">$</span>Value, <span class="at">type =</span> <span class="st">&quot;n&quot;</span>,</span>
<span id="cb94-6"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-6" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Q&quot;</span>,</span>
<span id="cb94-7"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-7" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Cost / Revenue&quot;</span>,</span>
<span id="cb94-8"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-8" tabindex="-1"></a>     <span class="at">ylim =</span> <span class="fu">c</span>(y_min, y_max1),</span>
<span id="cb94-9"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-9" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;MC, AC, and MR Curves&quot;</span>)</span>
<span id="cb94-10"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-10" tabindex="-1"></a><span class="fu">lines</span>(df3<span class="sc">$</span>Q[df3<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;AC&quot;</span>],</span>
<span id="cb94-11"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-11" tabindex="-1"></a>      df3<span class="sc">$</span>Value[df3<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;AC&quot;</span>],</span>
<span id="cb94-12"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-12" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">&quot;purple&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">1</span>)</span>
<span id="cb94-13"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-13" tabindex="-1"></a><span class="fu">lines</span>(df3<span class="sc">$</span>Q[df3<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;MC&quot;</span>],</span>
<span id="cb94-14"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-14" tabindex="-1"></a>      df3<span class="sc">$</span>Value[df3<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;MC&quot;</span>],</span>
<span id="cb94-15"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-15" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">&quot;pink&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span>
<span id="cb94-16"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-16" tabindex="-1"></a><span class="fu">lines</span>(df3<span class="sc">$</span>Q[df3<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;MR&quot;</span>],</span>
<span id="cb94-17"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-17" tabindex="-1"></a>      df3<span class="sc">$</span>Value[df3<span class="sc">$</span>Type <span class="sc">==</span> <span class="st">&quot;MR&quot;</span>],</span>
<span id="cb94-18"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-18" tabindex="-1"></a>      <span class="at">col =</span> <span class="st">&quot;skyblue&quot;</span>, <span class="at">lwd =</span> <span class="dv">2</span>, <span class="at">lty =</span> <span class="dv">4</span>)</span>
<span id="cb94-19"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-19" tabindex="-1"></a><span class="fu">legend</span>(<span class="st">&quot;topright&quot;</span>,</span>
<span id="cb94-20"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-20" tabindex="-1"></a>       <span class="at">legend =</span> <span class="fu">c</span>(<span class="st">&quot;AC&quot;</span>, <span class="st">&quot;MC&quot;</span>, <span class="st">&quot;MR&quot;</span>),</span>
<span id="cb94-21"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-21" tabindex="-1"></a>       <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;purple&quot;</span>, <span class="st">&quot;pink&quot;</span>, <span class="st">&quot;skyblue&quot;</span>),</span>
<span id="cb94-22"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-22" tabindex="-1"></a>       <span class="at">lwd =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>),</span>
<span id="cb94-23"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb94-23" tabindex="-1"></a>       <span class="at">lty =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>))</span></code></pre></div>
<p><img src="LBYC121_Course_Book_files/figure-html/unnamed-chunk-60-1.png" alt="" width="672" /></p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb95-1" tabindex="-1"></a><span class="fu">print</span>(p3<span class="fl">.1</span>)</span></code></pre></div>
<pre><code>## NULL</code></pre>
<p>i. <code>y_max1</code> was created as a new object for our y-axis.</p>
<p>ii. Similar to the plot before, we create an empty plot with Q set for our x-axis and Value set for our y-axis.</p>
<p>iii. We have similar <code>lines(...)</code> except for the MR which has <code>lty=4</code> for a DotDash line.</p>
<p>iv. Again, we manually add the legend unlike <code>ggplot2</code></p>
<ul>
<li><p>MR usually starts equal to price at Q=0 and slopes downward faster than demand.</p></li>
<li><p>MC and AC are cost curves</p></li>
<li><p>Where MR=MC, the profit-maximizing quantity occurs</p>
<h2 id="saving-the-plots-for-copy-paste-in-wordgoogle-docs" class="hasAnchor">Saving the Plots for Copy-Paste in Word/Google Docs<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#saving-the-plots-for-copy-paste-in-wordgoogle-docs" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb97-1" tabindex="-1"></a><span class="fu">ggsave</span>(</span>
<span id="cb97-2"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb97-2" tabindex="-1"></a>  <span class="at">filename =</span> <span class="st">&quot;TC_plot.png&quot;</span>,</span>
<span id="cb97-3"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb97-3" tabindex="-1"></a>  <span class="at">plot =</span> p1,</span>
<span id="cb97-4"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb97-4" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">7</span>, </span>
<span id="cb97-5"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb97-5" tabindex="-1"></a>  <span class="at">height =</span> <span class="dv">5</span>,</span>
<span id="cb97-6"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb97-6" tabindex="-1"></a>  <span class="at">dpi =</span> <span class="dv">300</span></span>
<span id="cb97-7"><a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#cb97-7" tabindex="-1"></a>)</span></code></pre></div>
<p>We use <code>ggsave</code> to save our plot, <code>filename</code> is the name of the file, <code>plot</code> is the plot we want to save, <code>width, height</code> size in inches, <code>dpi=300</code> is the print-quality resolution (keep this as is!)</p></li>
</ul>
</div>
</div>
<div id="mini-exercise" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> Mini-Exercise<a href="review-of-single-variable-differentiation-rules-and-visualizing-functions.html#mini-exercise" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li><p>Differentiate the following:</p>
<p>a. <span class="math inline">\(h(x) = 2x^{1/8} + 10\)</span></p>
<p>b. <span class="math inline">\(C(\gamma) = \gamma^{1+ln(\gamma)}+ln(\gamma)\)</span></p>
<p>c. <span class="math inline">\(f(\theta) = \sqrt{\sqrt{\sqrt{\sqrt{\theta+1}}}}\)</span></p>
<p>d. <span class="math inline">\(f(x)=8x^7+7x^6+6x^5+5x^4+4x^3+3x^2+2x+1\)</span> (Until 5th order)</p></li>
<li><p>A firm faces the total revenue <span class="math inline">\(TR = 135Q - Q^2\)</span></p>
<p>a. Find MR in terms of Q</p>
<p>b. What are TR and MR if Q is 45?</p>
<p>c. If <span class="math inline">\(TC = 0.5Q^2 + 5Q + 550\)</span></p>
<p>What is MC and AC?</p>
<p>d. What are TC, MC, and AC if Q is 45?</p></li>
<li><p>From MR in B.2. and MC in C.2., what can you say about the firm‚Äôs profit? Should they produce more?</p></li>
<li><p>Using TR and TC from the previous numbers, Visualize the MR, MC, and AC curves in one plot;</p>
<p>a. Q_vals should be until 60</p>
<p>b. MC should be <strong>Dashed</strong> and the favorite color of Partner A.</p>
<p>c. MR should be <strong>DotDashed</strong> and color should be the favorite color of Partner B.</p>
<p>d. AC should be <strong>Solid Thick</strong> line and color is Partner A + Partner B combined.</p>
<p>d. Label the axes; y-axis as Cost/Revenue; x-axis as Quantity (Q)</p>
<p>e. Label the plot as ‚ÄúMC, AC, and MR Curves‚Äù</p></li>
<li><p>At what point do you see is the profit-maximizing quantity?</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="differentiation-rules.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": null,
    "text": null
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["LBYC121_Course_Book.pdf", "LBYC121_Course_Book.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "section",
    "depth": 4
  }
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
